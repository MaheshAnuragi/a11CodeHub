<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Us</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/join.css">
</head>

<body>
    <div id="navbar-container"></div>

    <div class="container p-5">
        <div class="title">
            <h1>Wish to witness or contribute a true cause?</h1>
            <hr>
        </div>
        <div class="row p-4 m-4 d-flex justify-content-center">
            <form method="post"
                action="https://script.google.com/macros/s/AKfycbx50h5y5NiFfqKwYbZuHmcbQSZN6WVrR9LphUhZLmq3Q0RDhILkM2AUy2CmqEpFkv_ziQ/exec">
                <h2>Join Us</h2>
                <div class="form-inline">
                    <div class="form-check mr-3">
                        <input class="form-check-input" name="Join" value="mentee" type="radio" id="menteeRadio"
                            required>
                        <label class="form-check-label" for="menteeRadio">Join us as a mentee to obtain studies or
                            career-related mentorship</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="Join" value="contributor" type="radio"
                            id="contributorRadio" required>
                        <label class="form-check-label" for="contributorRadio">Join us as a contributor</label>
                    </div>
                </div>
                <p>
                    Name
                    <input name="Name" placeholder="Write your name here.." required></input>
                </p>
                <div class="form-inline">
                    <div class="form-check mr-3">
                        <input class="form-check-input" name="Gender" value="Male" type="radio" id="maleRadio" required>
                        <label class="form-check-label" for="maleRadio">Male</label>
                    </div>
                    <div class="form-check mr-3">
                        <input class="form-check-input" name="Gender" value="Female" type="radio" id="femaleRadio"
                            required>
                        <label class="form-check-label" for="femaleRadio">Female</label>
                    </div>
                    <div class="form-check mr-3">
                        <input class="form-check-input" name="Gender" value="Others" type="radio" id="othersRadio"
                            required>
                        <label class="form-check-label" for="othersRadio">Others</label>
                    </div>
                </div>
                <p>
                    Age
                    <input name="Age" type="tel" pattern="[0-9]{2}" placeholder="Let us know .." required></input>
                </p>
                <div class="form-inline">
                    Are you a person with disability?
                    <div class="form-check ml-3 mr-3">
                        <input class="form-check-input" name="Disability" value="Yes" type="radio" id="disabilityYes"
                            required>
                        <label class="form-check-label" for="disabilityYes">Yes</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" name="Disability" value="No" type="radio" id="disabilityNo"
                            required>
                        <label class="form-check-label" for="disabilityNo">No</label>
                    </div>
                </div>

                <div class="form-group" id="disabilityDropdown" style="display: none;">
                    <label for="disabilityType">Choose disability type:</label>
                    <select class="form-control" id="disabilityType" name="Disability">
                        <option value="Blindness">Blindness</option>
                        <option value="Low Vision">Low Vision</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
                <p>
                    Level of education/occupation
                    <input name="Level" placeholder="Would you like to tell us.." required></input>
                </p>
                <p>
                    Email Address
                    <input name="Email" type="email"
                        placeholder="Let us know how to contact you back.." required></input>
                </p>
                <p>
                    Mobile Number
                    <input name="Mobile" type="tel"
                        placeholder="Let us know how to contact you back.." required></input>
                </p>
                <p>
                    Your Message if any!
                    <input name="Message" placeholder="What would you like to tell us.."></input>
                </p>
                <input type="hidden" name="FormType" value="join">
                <div class="message d-flex justify-content-center">
                    <button type="submit">Send Message</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ... (rest of your form code) -->

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.all.min.js"></script>

    <script>
        const form = document.querySelector('form');

        form.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the form from being submitted immediately

            // Perform your custom form validation if needed

            // Submit the form using AJAX (asynchronous)
            fetch(form.action, {
                method: form.method,
                body: new FormData(form)
            })
                .then(function (response) {
                    // Check if the response indicates success
                    if (response.ok) {
                        Swal.fire("Thank You!", "Will contact soon..", "success");
                        form.reset(); // Reset the form after successful submission
                    } else {
                        // If the response is not successful, show an error message using SweetAlert
                        Swal.fire("Error!", "Something went wrong!", "error");
                    }
                })
                .catch(function (error) {
                    // If there is an error, show an error message using SweetAlert
                    Swal.fire("Error!", "An error occurred!", "error");
                    console.error(error);
                });
        });
    </script>

    <script>

        const disabilityYesRadio = document.getElementById("disabilityYes");
        const disabilityNoRadio = document.getElementById("disabilityNo");
        const disabilityDropdown = document.getElementById("disabilityDropdown");
        const disabilityTypeSelect = document.getElementById("disabilityType");

        function updateDisabilityDropdown() {
            if (disabilityYesRadio.checked) {
                disabilityDropdown.style.display = "block";
            } else {
                disabilityDropdown.style.display = "none";
                disabilityTypeSelect.selectedIndex = 0; // Reset the selected value when hiding the dropdown
            }
        }

        function handleDisabilityYesSelection() {
            if (disabilityYesRadio.checked) {
                // Replace the value "Yes" with the selected value from the dropdown
                disabilityYesRadio.value = disabilityTypeSelect.value;
            }
        }

        // Add event listeners to both "Yes" and "No" radio buttons
        disabilityYesRadio.addEventListener("change", function () {
            updateDisabilityDropdown();
            handleDisabilityYesSelection();
        });

        disabilityNoRadio.addEventListener("change", function () {
            updateDisabilityDropdown();
            disabilityYesRadio.value = "Yes"; // Reset the value to "Yes" when hiding the dropdown
        });

        // Call the function initially to set the correct state of the disability dropdown
        updateDisabilityDropdown();
    </script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var navbarContainers = document.querySelectorAll('#navbar-container');

            navbarContainers.forEach(function (container) {
                fetch('navbar.html')
                    .then(function (response) {
                        return response.text();
                    })
                    .then(function (content) {
                        container.innerHTML = content;
                    });
            });
        });
    </script>

    <script src="js/join.js"></script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</body>

</html>